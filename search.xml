<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>post</title>
      <link href="/post.html"/>
      <url>/post.html</url>
      
        <content type="html"><![CDATA[<p>test</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[筆記] 紀錄在專案中使用過的lodash</title>
      <link href="/lodash.html"/>
      <url>/lodash.html</url>
      
        <content type="html"><![CDATA[<h2 id="Why-Lodash"><a href="#Why-Lodash" class="headerlink" title="Why Lodash ?"></a>Why Lodash ?</h2><p><strong>Lodash</strong> 在處理 arrays 、numbers、objects、strings 上更加容易，讓 Javascript 變得簡潔。</p><h2 id="在專案中使用-lodash"><a href="#在專案中使用-lodash" class="headerlink" title="在專案中使用 lodash"></a>在專案中使用 lodash</h2><p>透過 <code>npm</code> or <code>yarn</code>安裝：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i lodash</span><br><span class="line">or</span><br><span class="line">yarn add lodash</span><br></pre></td></tr></table></figure><p>可以這樣引入：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只 bundle 需要的功能</span></span><br><span class="line"><span class="keyword">import</span> _map <span class="keyword">from</span> <span class="string">"lodash/map"</span>;</span><br><span class="line"><span class="keyword">import</span> _filter <span class="keyword">from</span> <span class="string">"lodash/filter"</span>;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lodash將整包被 bundle 到輸出檔案中</span></span><br><span class="line"><span class="keyword">import</span> &#123; map, filter &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br></pre></td></tr></table></figure><h2 id="避免將-lodash-全數引入"><a href="#避免將-lodash-全數引入" class="headerlink" title="避免將 lodash 全數引入"></a>避免將 lodash 全數引入</h2><p>可以透過安裝 <a href="https://www.npmjs.com/package/babel-plugin-lodash" target="_blank" rel="noopener">babel-plugin-lodash</a>來避免 lodash 被全數引入，安裝後下列的寫法只會 bundle 需要的功能。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; map, filter &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br></pre></td></tr></table></figure><h2 id="開發專案中用過的-lodash"><a href="#開發專案中用過的-lodash" class="headerlink" title="開發專案中用過的 lodash"></a>開發專案中用過的 lodash</h2><p>defaultTo startsWith</p><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><p><strong>map(collection, [iteratee=_.identity])</strong><br>通過迭代集合中元素來創建陣列。</p><pre><code>- collection (Array|Object): 將被遍歷的集合- [iteratee=_.identity] (Function): 每次迭代調用的函數.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; map &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> square = <span class="function">(<span class="params">n</span>) =&gt;</span> n * n;</span><br><span class="line"></span><br><span class="line">map([<span class="number">4</span>, <span class="number">8</span>], square);</span><br><span class="line"><span class="comment">// =&gt; [16, 64]</span></span><br><span class="line"></span><br><span class="line">map(&#123; <span class="attr">a</span>: <span class="number">4</span>, <span class="attr">b</span>: <span class="number">8</span> &#125;, square);</span><br><span class="line"><span class="comment">// // =&gt; [16, 64] (不能保證迭代順序))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> users = [&#123; <span class="attr">user</span>: <span class="string">"barney"</span> &#125;, &#123; <span class="attr">user</span>: <span class="string">"fred"</span> &#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// // `_.property` 的迭代縮寫.</span></span><br><span class="line">map(users, <span class="string">"user"</span>);</span><br><span class="line"><span class="comment">// // =&gt; ['barney', 'fred']</span></span><br></pre></td></tr></table></figure><p><strong>forEach(collection, [iteratee=_.identity])</strong><br>迭代集合，但不會回傳任何東西，可以通過 return false 提早退出迭代</p><pre><code>- collection (Array|Object): 將被遍歷的集合.- [iteratee=_.identity] (Function): 每次迭代調用的函數.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; forEach &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">forEach([<span class="number">1</span>, <span class="number">2</span>], (value) =&gt; <span class="built_in">console</span>.log(value));</span><br><span class="line"><span class="comment">// =&gt; Logs `1` then `2`.</span></span><br><span class="line"></span><br><span class="line">forEach(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;, (value, key) =&gt; <span class="built_in">console</span>.log(key));</span><br><span class="line"><span class="comment">// =&gt; Logs 'a' then 'b' (不能保證迭代順序).</span></span><br></pre></td></tr></table></figure><p><strong>find(collection, [predicate=_.identity], [fromIndex=0])</strong><br>通過迭代集合找尋指定的元素</p><pre><code>- collection: 將被遍歷的集合- predicate=_.identity : 每次迭代調用的函數- fromIndex : 起始位置</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; find &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> users = [</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"barney"</span>, <span class="attr">age</span>: <span class="number">36</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"fred"</span>, <span class="attr">age</span>: <span class="number">40</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"pebbles"</span>, <span class="attr">age</span>: <span class="number">1</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">find(users, (o) =&gt; o.age &lt; <span class="number">40</span>);</span><br><span class="line"><span class="comment">// =&gt; object for 'barney'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `_.matches` 的迭代縮寫.</span></span><br><span class="line">find(users, &#123; <span class="attr">age</span>: <span class="number">1</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; object for 'pebbles'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `_.matchesProperty` 的迭代縮寫.</span></span><br><span class="line">find(users, [<span class="string">"active"</span>, <span class="literal">false</span>]);</span><br><span class="line"><span class="comment">// =&gt; object for 'fred'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `_.property` 的迭代縮寫.</span></span><br><span class="line">find(users, <span class="string">"active"</span>);</span><br><span class="line"><span class="comment">// =&gt; object for 'barney'</span></span><br></pre></td></tr></table></figure><p><strong>includes(collection, value, [fromIndex=0])</strong><br>檢查參考值是否在集合中</p><pre><code>- collection (Array|Object|string): 將被檢查的集合.- value (*): 參考值.- [fromIndex=0](number): 起始位置.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; includes &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">includes([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">includes([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line">includes(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;, <span class="number">1</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">includes(<span class="string">"abcd"</span>, <span class="string">"bc"</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><p><strong>some(collection, [predicate=_.identity])</strong><br>檢查是否有符合條件的元素，一旦判斷到符合條件的元素迭代就會停止。</p><pre><code>- collection (Array|Object): 將被遍歷的集合.- [predicate=_.identity] (Function): 每次迭代調用的函數.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; some &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">some([<span class="literal">null</span>, <span class="number">0</span>, <span class="string">"yes"</span>, <span class="literal">false</span>], <span class="built_in">Boolean</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> users = [</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"barney"</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"fred"</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">//  `_.matches` 的迭代縮寫.</span></span><br><span class="line">some(users, &#123; <span class="attr">user</span>: <span class="string">"barney"</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `_.matchesProperty`的迭代縮寫.</span></span><br><span class="line">some(users, [<span class="string">"active"</span>, <span class="literal">false</span>]);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  `_.property` 的迭代縮寫.</span></span><br><span class="line">some(users, <span class="string">"active"</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p><strong>join(array, [separator=’,’])</strong><br>將指定的陣列用分隔符連接起來</p><pre><code>- array (Array): 將被轉換的陣列.- [separator=&apos;,&apos;] (string): 分隔符.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; join &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">join([<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>], <span class="string">"~"</span>);</span><br><span class="line"><span class="comment">// =&gt; 'a~b~c'</span></span><br></pre></td></tr></table></figure><p><strong>findIndex(array, [predicate=_.identity], [fromIndex=0])</strong><br>通過迭代集合找尋指定的元素並回傳該位置的索引值</p><pre><code>- array (Array): 將被檢查的陣列.- [predicate=_.identity] (Function): 每次迭代調用的函數.- [fromIndex=0] (number): 起始位置.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; findIndex &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> users = [</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"barney"</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"fred"</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">"pebbles"</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">findIndex(users, (o) =&gt; o.user == <span class="string">"barney"</span>);</span><br><span class="line"><span class="comment">// =&gt; 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `_.matches` 的迭代縮寫.</span></span><br><span class="line">findIndex(users, &#123; <span class="attr">user</span>: <span class="string">"fred"</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `_.matchesProperty` 的迭代縮寫.</span></span><br><span class="line">findIndex(users, [<span class="string">"active"</span>, <span class="literal">false</span>]);</span><br><span class="line"><span class="comment">// =&gt; 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  `_.property` 的迭代縮寫.</span></span><br><span class="line">findIndex(users, <span class="string">"active"</span>);</span><br><span class="line"><span class="comment">// =&gt; 2</span></span><br></pre></td></tr></table></figure><p><strong>head(array)</strong><br>獲取陣列的第一個元素</p><pre><code>- array (Array): 要查詢的陣列.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; head &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">head([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line">head([]);</span><br><span class="line"><span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure><h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><p><strong>floor(number, [precision=0])</strong></p><pre><code>- number : 四捨五入後的數字- [precision=0] : 往後 n 位小數點</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; floor &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">floor(<span class="number">4.006</span>);</span><br><span class="line"><span class="comment">// =&gt; 4</span></span><br><span class="line"></span><br><span class="line">floor(<span class="number">0.046</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// =&gt; 0.04</span></span><br><span class="line"></span><br><span class="line">floor(<span class="number">4060</span>, <span class="number">-2</span>);</span><br><span class="line"><span class="comment">// =&gt; 4000</span></span><br></pre></td></tr></table></figure><h2 id="Lang"><a href="#Lang" class="headerlink" title="Lang"></a>Lang</h2><p><strong>isNull(value)</strong><br>檢查該數值是否為 Null</p><pre><code>- value (*): 將被檢查的數值.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; isNull &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">isNull(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">isNull(<span class="keyword">void</span> <span class="number">0</span>);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure><p><strong>isFinite(value)</strong><br>檢查該數值是否為有限數值</p><pre><code>- value(*): 將被檢查的數值.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="built_in">isFinite</span> &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="built_in">Number</span>.MIN_VALUE);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="literal">Infinity</span>);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="string">"3"</span>);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="number">1000</span> / <span class="number">0</span>);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="number">1000</span> / <span class="number">1</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><p><strong>isEmpty(value)</strong><br>檢查該數值是否為空集合</p><pre><code>- value(*): 將被檢查的數值.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; isEmpty &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">isEmpty(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">isEmpty(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">isEmpty(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">isEmpty([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line">isEmpty(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure><h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><p><strong>get(object, path, [defaultValue])</strong><br>通過路徑獲取該物件的資料，如果是 undefined 則返回預設數值.</p><pre><code>- object (Object): 要查詢的物件.- path (Array|string): 屬性路徑.- [defaultValue] (*): 預設數值.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="keyword">get</span> &#125; from "lodash";</span><br><span class="line"></span><br><span class="line">const object = &#123; a: [&#123; <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">3</span> &#125; &#125;] &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">get</span>(object, "a[0].b.c");</span><br><span class="line">// =&gt; 3</span><br><span class="line"></span><br><span class="line"><span class="keyword">get</span>(object, ["a", "0", "b", "c"]);</span><br><span class="line">// =&gt; 3</span><br><span class="line"></span><br><span class="line"><span class="keyword">get</span>(object, "a.b.c", "default");</span><br><span class="line">// =&gt; 'default'</span><br></pre></td></tr></table></figure><h2 id="Util"><a href="#Util" class="headerlink" title="Util"></a>Util</h2><p><strong>defaultTo(value, defaultValue)</strong><br>如果數值為 NaN 、 null 、 undefined 就返回預設值</p><pre><code>- value (*): 將被檢查的數值.- defaultValue (*): 預設值.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defaultTo &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">defaultTo(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"></span><br><span class="line">defaultTo(<span class="literal">undefined</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">// =&gt; 10</span></span><br></pre></td></tr></table></figure><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p><strong>startsWith([string=’’], [target], [position=0])</strong><br>檢查該位置的字串是否為目標字串</p><pre><code>- [string=&apos;&apos;] (string): 將被檢查的字串.- [target] (string): 想找尋的字串.- [position=0] (number): 想找尋的位置.</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; startsWith &#125; <span class="keyword">from</span> <span class="string">"lodash"</span>;</span><br><span class="line"></span><br><span class="line">startsWith(<span class="string">"abc"</span>, <span class="string">"a"</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line">startsWith(<span class="string">"abc"</span>, <span class="string">"b"</span>);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line">startsWith(<span class="string">"abc"</span>, <span class="string">"b"</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>這篇參考<strong><a href="https://jigsawye.com/2017/09/04/make-good-use-of-lodash/" target="_blank" rel="noopener">充分利用 lodash 讓你的程式碼更易讀及維護– JIGSAWYE</a></strong>的文章。</p><p>另外 lodash 還有提供 <strong><a href="https://github.com/lodash/lodash/wiki/FP-Guide" target="_blank" rel="noopener">lodash/fp</a></strong> 能夠使用 Functional Programming 讓程式碼更簡潔，如果有興趣可以看看官方文件或是參考 jigsawye 翻譯的 <strong><a href="https://jigsawye.gitbooks.io/mostly-adequate-guide/content/" target="_blank" rel="noopener">JavaScript Functional Programming 指南</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>[筆記] 理解 Event Loop,Call Stack, Event &amp; Job Queue in Javascript</title>
      <link href="/JavaScript-event-loop.html"/>
      <url>/JavaScript-event-loop.html</url>
      
        <content type="html"><![CDATA[<div class="video-container"><iframe src="https://www.youtube.com/embed/8aGhZQkoFbQ" frameborder="0" loading="lazy" allowfullscreen></iframe></div><blockquote><p>JavaScript 最大的優點就是它能夠直接在瀏覽器中運行，不需要任何設置，只需要打開新的瀏覽器並使用 JavaScript 控制台即可執行程式碼。<br>在瀏覽器中，JavaScript 不僅僅是 Runtime engine ( 運行引擎 ) ，還有許多其他的功能，例如：Web Apis ( ex: DOM 、 setTimeout ), callback queue ( 回調序列 ) 以及 event loop ( 事件循環 )。</p></blockquote><h1 id="JavaScript-Runtime-engine-運行引擎"><a href="#JavaScript-Runtime-engine-運行引擎" class="headerlink" title="JavaScript Runtime engine ( 運行引擎 )"></a>JavaScript Runtime engine ( 運行引擎 )</h1><p>每個瀏覽器都有自己的 JS Runtime engine，最著名的就是 google chrome 的 <a href="https://zh.wikipedia.org/wiki/V8_(JavaScript%E5%BC%95%E6%93%8E)" target="_blank" rel="noopener">V8 JavaScript 引擎</a></p><h1 id="Event-Loop-視覺化圖"><a href="#Event-Loop-視覺化圖" class="headerlink" title="Event Loop 視覺化圖"></a>Event Loop 視覺化圖</h1><p><img src="event-loop.png" alt=""></p><h2 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h2><p>JS Runtime 的 Memory Heap 進行記憶體的分配，呼叫堆疊 <code>Call Stack</code>。</p><h2 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h2><p>JavaScript 逐一執行程式碼的地方稱為堆疊 <code>Stack</code>，當有程式碼片段需要執行就會形成一個<code>frame</code>被堆疊進<code>Stack</code>等待，一旦執行完該<code>frame</code>就會跳出。</p><p>如果是異步執行的程式碼，例如 : setTimeout()、ajax()、Promise、或是 onClick()事件，程式碼會從主堆疊( main stack )中移動到事件表(event table)中。</p><p>如果在函式中執行<code>return</code>，該函式則會在 stack 中直接抽離出來。</p><h2 id="Web-APIS"><a href="#Web-APIS" class="headerlink" title="Web APIS"></a>Web APIS</h2><p>是指瀏覽器額外提供的東西，(ex: DOM、Ajax、setTimeout,etc)</p><h2 id="Callback-Queue"><a href="#Callback-Queue" class="headerlink" title="Callback Queue"></a>Callback Queue</h2><p>異步執行的程式碼會被推到這裏並等待執行。</p><h2 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h2><p>接著會來到事件循環，該事件會連續不斷地監聽<code>Stack</code>中是否還有待執行的程式碼片段。</p><p>確認沒有後就換檢查<code>Callback Queue</code>， 如果<code>Callback Queue</code>有準備好的<code>Callback</code>，<code>Event Loop</code>會將第一個準備好的<code>Callback</code>移動到<code>Stack</code>中執行。</p><h2 id="Job-Queue"><a href="#Job-Queue" class="headerlink" title="Job Queue"></a>Job Queue</h2><p>除了<code>Callback Queue</code>，瀏覽器還有另一個佇列叫做<code>Job Queue</code>，這個佇列只保留新功能<code>Promise()</code>的<code>frame</code>。</p><p>當使用到<code>Promise()</code>時即新增了一個 <code>thenable method</code> ，而 <code>thenable method</code> 會被加入到 Job Queue 中，當執行完畢後回傳一個 returned 或是 resolved。</p><blockquote><p>single threaded : JavaScript 是一種單執行緒的程式語言，所有的程式碼會被 stack 中逐一執行，一次只執行一段程式碼。</p></blockquote><h2 id="Blocking-阻塞"><a href="#Blocking-阻塞" class="headerlink" title="Blocking 阻塞"></a>Blocking 阻塞</h2><p>當 <code>main stack</code>具有影響效能的程式碼在某個<code>frame</code>中，其他的程式碼片段就必須等待該<code>frame</code>執行完畢才能有其他的動作(ex: onClick()))，稱為 <strong>阻塞</strong> 。</p><hr><h1 id="Quick-Question-now"><a href="#Quick-Question-now" class="headerlink" title="Quick Question now"></a>Quick Question now</h1><p>試著預測下面的輸出結果：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"message no. 1: Sync"</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"message no. 2: setTimeout"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise</span><br><span class="line">  .then(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"message no. 3: Promise"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"message no. 4: Promise"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"message no. 5: Sync"</span>);</span><br></pre></td></tr></table></figure><p>有些人可能會預測結果為：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//message no. 1: Sync</span></span><br><span class="line"><span class="comment">//message no. 5: Sync</span></span><br><span class="line"><span class="comment">//message no. 3: Promise</span></span><br><span class="line"><span class="comment">//message no. 4: Promise</span></span><br><span class="line"><span class="comment">//message no. 2: setTimeout</span></span><br></pre></td></tr></table></figure><p>但事實上結果為：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//message no. 1: Sync</span></span><br><span class="line"><span class="comment">//message no. 5: Sync</span></span><br><span class="line"><span class="comment">//message no. 2: setTimeout</span></span><br><span class="line"><span class="comment">//message no. 3: Promise</span></span><br><span class="line"><span class="comment">//message no. 4: Promise</span></span><br></pre></td></tr></table></figure><p>為什麼呢？ 這是因為 <code>Job Queue</code>有較高的優先權，所以當主堆疊中的<code>frame</code>執行完後， <code>Event Loop</code> 會優先檢查及執行 <code>Job Queue</code>裡的作業，全部執行完後才會到 `Callback Queue。</p><hr><h1 id="Code-execution-notes"><a href="#Code-execution-notes" class="headerlink" title="Code execution notes"></a>Code execution notes</h1><ul><li><p><code>async code</code>會在<code>main stack</code>全部執行完畢後才開始執行。</p></li><li><p><code>main stack</code>中當下的<code>statements</code>及<code>functions</code>會執行完畢，過程中無法被<code>async code</code>中斷。</p></li><li><p>因為須等待<code>main stack</code>執行完畢，因此不能保證<code>async code</code>將在指定的時間準確執行，如果<code>main stack</code>正忙於執行當下的程式，那<code>async code</code>將被延遲。</p></li><li><p>就算 <code>setTimeout()</code>延遲時間設定為 0 ，程式也不會立即被執行，依然會被排在 <code>Callback Queue</code>等待<code>main stack</code>結束。</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"message no. 1: setTimeout"</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"message no. 2: Sync"</span>);</span><br></pre></td></tr></table></figure><p>結果為：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// message no. 2: Sync</span></span><br><span class="line"><span class="comment">// message no. 1: setTimeout</span></span><br></pre></td></tr></table></figure><hr><h3 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h3><ul><li><p><a href="https://medium.com/@Rahulx1/understanding-event-loop-call-stack-event-job-queue-in-javascript-63dcd2c71ecd" target="_blank" rel="noopener">Understanding Event Loop, Call Stack, Event &amp; Job Queue in Javascript</a></p></li><li><p><a href="https://pjchender.blogspot.com/2017/08/javascript-learn-event-loop-stack-queue.html" target="_blank" rel="noopener">[筆記] 理解 JavaScript 中的事件循環、堆疊、佇列和併發模式（Learn event loop, stack, queue, and concurrency mode of JavaScript in depth）</a></p></li><li><p><a href="https://wsvincent.com/javascript-event-loop/" target="_blank" rel="noopener">JavaScript Event Loop</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>[筆記] 透過 Hexo + GitHub 建立個人部落格</title>
      <link href="/create-hexo-blog.html"/>
      <url>/create-hexo-blog.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Hexo 是一個快速、簡單且強大的網誌框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在幾秒鐘內透過漂亮的主題產生靜態檔案。</p></blockquote><h3 id="安裝需求"><a href="#安裝需求" class="headerlink" title="安裝需求"></a>安裝需求</h3><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a> (Node.js 版本需不低於 8.6，建議使用 Node.js 10.0 及以上版本)</li><li><a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a></li></ul><h3 id="安裝Hexo"><a href="#安裝Hexo" class="headerlink" title="安裝Hexo"></a>安裝<code>Hexo</code></h3><p>接下來透過<code>npm</code>安裝<code>Hexo</code></p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>安裝完後查看<code>Hexo</code>版本</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure><p>接下來就可以開始初始化部落格</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog <span class="comment">#初始化blog</span></span><br><span class="line"><span class="built_in">cd</span> blog <span class="comment">#移動到blog的根目錄</span></span><br><span class="line">npm install <span class="comment"># 安裝相關套件</span></span><br></pre></td></tr></table></figure><h3 id="配置GitHub"><a href="#配置GitHub" class="headerlink" title="配置GitHub"></a>配置<code>GitHub</code></h3><p>在 <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>新增一個名稱為 <code>yourname.github.io</code> 的 Repositories</p><blockquote><p><code>yourname</code> 換成自己的帳號</p></blockquote><h3 id="回到剛剛創建的blog資料夾"><a href="#回到剛剛創建的blog資料夾" class="headerlink" title="回到剛剛創建的blog資料夾"></a>回到剛剛創建的<code>blog</code>資料夾</h3><ol><li>在<code>blog</code>根目錄找<code>_config.yml</code>的檔案，這支檔案是用來作全域配置的文件</li><li>在<code>_config.yml</code>檔案找</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type:</span><br></pre></td></tr></table></figure><p>改成這樣</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https:&#x2F;&#x2F;github.com&#x2F;yourname&#x2F;yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><blockquote><p>參數後面記得留一個空格</p></blockquote><ol start="3"><li>安裝<code>hexo-deployer-git</code>套件</li></ol><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><ol start="4"><li>產生靜態文件,部署到<code>GitHub</code>上</li></ol><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p>等一段時間後就能到<code>https://yourname.github.io/</code>查看有沒有成功部署，接下來就可以開始寫文章哩。</p><h2 id="使用-Themes-Hexo-主題"><a href="#使用-Themes-Hexo-主題" class="headerlink" title="使用 Themes Hexo 主題"></a>使用 <code>Themes Hexo</code> 主題</h2><p>在 <a href="https://hexo.io/themes/index.html" target="_blank" rel="noopener">Themes</a> 選一個自己喜歡的主題，並參考官方文件做就可以了。</p><h2 id="發布文章"><a href="#發布文章" class="headerlink" title="發布文章"></a>發布文章</h2><p>創建文章</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [postName]</span><br></pre></td></tr></table></figure><blockquote><p>前往 source / _post 資料夾中，找到創建的 [postName].md 文件，開始撰寫內容。</p></blockquote><p>部署內容</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g    <span class="comment"># d = 部署, g = 生成</span></span><br></pre></td></tr></table></figure><p>如果想在 <code>local</code> 端先確認內容，可以用</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server <span class="comment">#執行</span></span><br></pre></td></tr></table></figure><hr><ul><li><p>如果不熟悉 <code>Markdown</code>，<a href="https://markdown.tw/#hr" target="_blank" rel="noopener">Markdown</a></p></li><li><p>如果想用線上編輯器，<a href="https://hackmd.io/sHXhBDrtQh-nzU5oeVotGw" target="_blank" rel="noopener">HackMD</a>、<a href="https://markdown-editor.github.io/" target="_blank" rel="noopener">markdown-editor</a></p></li><li><p>如果用的編輯器是<code>vscode</code>，可以看看<a href="https://marketplace.visualstudio.com/items?itemName=mdickin.markdown-shortcuts" target="_blank" rel="noopener">Markdown Shortcuts</a>跟<a href="https://marketplace.visualstudio.com/items?itemName=bierner.markdown-preview-github-styles" target="_blank" rel="noopener">Markdown Preview Github Styling</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
